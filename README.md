# Introduction

The proof-of-exploit repo is based off of the [exploit-cli crate](https://github.com/proof-of-exploit/cli)
and aims to achieve the same result while lowering the necessary amount of code by using SP1 for the
generation of the proof. Combining `revm` and `sp1` allows for the execution of the exploit given as input
a block context and a transaction previously executed on a local anvil instance.

# Requirements

- Rust: https://www.rust-lang.org/tools/install
- forge toolkit: https://book.getfoundry.sh/getting-started/installation
- git

# Installation

Run the below in order to correctly install the project and run the tests.

```bash
git clone https://github.com/greged93/proof-of-exploit
cd proof-of-exploit
git submodule update --init --recursive

cd test/huff-template
forge install
forge build

cargo test
```

# Usage

Run the below in order to generate a proof of exploit for
the [huff template](https://github.com/proof-of-exploit/huff-template).

```bash
cargo run --bin prove-exploit --release -- --block-number 4774970 --eth-rpc-url https://sepolia.infura.io/v3/<ALCHEMY-KEY>
```

This will in order:

- Start a local anvil instance forked from Sepolia at block 4774970
- Execute the transaction that exploits the huff template
- Pool all touched storage slots and accounts in order to generate the proof
- Generate the proof using SP1
- Log the commited storage value